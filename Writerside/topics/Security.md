# Security

AWS 공동 책임 모델
- 고객
  - 고객데이터
  - 플랫폼, 어플리케이션, IAM
  - 운영체제, 네트워크/방화벽 구성
  - 데이터 암호화, 네트워킹 트래픽 보호
- AWS
  - 소프트웨어: 컴퓨팅, 스토리지, 데이터베이스, 네트워킹
  - 하드웨어: 리전, 가용영역, 엣지로케이션

AWS Identity and Acces Management (IAM)
- IAM 사용자, 그룹 및 역할
- IAM 정책
- 다중 인증 (MFA)

계정 루트 사용자
- 처음 생성시 루트 사용자 자격 증명으로 시작
- 이메일 주소 및 암호로 로그인하여 액세스
- 모든 AWS 서비스 및 리소스에 대한 전체 액세스 권한

IAM 사용자
- AWS에서 생성하는 자격 증명
- AWS 서비스 및 리소스와 상호작용하는 사람 또는 어플리케이션을 나타냄
- 사용자는 이름과 자격증명으로 구성
- 기본적으로 IAM 사용자 생성시 해당 사용자와 연결된 권한이 없어, 허용할려면 필요한 권한을 부여

IAM 정책
- AWS 서비스 및 리소스에 대한 권한을 허용하거나 거부하는 문서
- 리소스에 액세스 할 수 있는 수준을 사용자가 지정
- Effect(허용, 거부), Action(리소스 API), Resource(특정 리소스)

IAM 그룹
- 그룹에 IAM 정책을 할당하면 해당 그룹의 모든 사용자에게 정책에 지정된 권한 부여

IAM 역할
- 임시로 권한에 액세스하기 위해 수임할 수 있는 자격증명
- 해당 역할로 전환할 수 있는 권한을 부여받아야함
- IAM 역할을 수임한다는 것은 이전 역할에 지정된 모든 권한 포기하고 새 권한을 수임하는 것

다중 인증 (MFA)
- 신원 확인을 위해 추가적인 인증 형식
- 루트 및 IAM 사용자에 대해 MFA를 활성화 할 수 있다.
- 모든 사용자에게 활성화 권장
- 무단 액세스로부터 보호

AWS Organizations
- 중앙 위치에서 여러 AWS 계정을 통합관리
- 조직을 생성하면 조직의 모든 계정에 상위 컨테이너 루트를 자동 생성
- 서비스제어정책(SCP)를 사용하여 조직의 계정 또는 OU에 대한 권한을 중앙에서 제어
- 계정을 조직 단위 (OU)로 그룹화하여 비슷한 비즈니스 또는 보안 요구 사항이 있는 계정을 손쉽게 관리
- OU에 정책을 적용하면 OU의 모든 계정이 정책에 지정된 권한을 자동으로 상속
- 개별 계정을 OU로 구성하면 특정 보안 요구 사항이 있는 워크로드 또는 애플리케이션을 보다 간편하게 격리 가능

AWS Artifact
- 보안 및 규정 준수 보고서 및 온라인 계약에 대한 온디맨드 액세스를 제공하는 서비스
- 사용자는 AWS 직접 구축한 아키텍처에서의 규정 준수 충족에만 신경쓰면 된다.
- Agreements(계약) - 모든 계정에 대한 계약을 검토, 수락 및 관리
- Reports(보고서) - 외부 감사 기관이 작성한 규정 준수 보고서를 제공

고객 컴플라이언스 센터
- AWS 규정 준수에 대해 자세히 알아볼 수 있는 리소스가 포함되어 있음
- 고객 규정 준수 사례를 읽고 규제 대상 업종 기업의 다양한 규정 준수, 거버넌스 및 감사 과제를 어떻게 해결했는지 확인 가능
- 규정 준수 백서 및 설명서에 액세스 가능 (규정준수 질문에 대한 AWS 답변, AWS 위험 및 규정 준수 개요, 보안 감사 체크리스트)
- 감사자 학습 경로가 있어 AWS 클라우드를 사용한 규정 준수를 입증할 수 있는 방법 제시

서비스 거부 공격 예방
1. UDP Flood - 보안그룹을 통해 완전히 다른 프로토콜일 경우 허가 하지 않음 (보안 그룹은 네트워크 수준)
2. Slowloris - ELB를 통해 확장해서 분산 처리

AWS Shield
- standard는 무료 서비스로 일반적인 DDoS 공격으로 보호
- Advanced는 유료서비스로 상세한 공격 진단 및 정교한 DDoS 공격 보호, 다른 서비스와도 통합, 사용자 지정 규칙 작성 가능

AWS Key Management Service (KMS)
- 암호화 키를 사용하여 암호화작업을 수행
- 데이터 잠금, 잠금해제에 사용되는 임의의 숫자문자열
- 광범위한 서비스 및 애플리케이션에서 키 사용 제어 가능
- 키에 필요한 액세스 제어를 특정 수준으로 선택 가능(키를 관리할 수 있는 IAM 사용자 및 역할을 지정)

AWS WAF
- 웹 어플리케이션 방화벽을 사용하여 수신 트래픽을 필터링해 해커의 서명을 찾음
- 네트워크 요청을 모니터링
- CloudFront 및 Application Load Balancer와 함께 작동
- 웹 액세스 제어 목록(ACL)에서 구성한 규칙목록을 통해 허용 및 차단

AWS Inspector
- 자동화된 보안 평가를 실행하여 애플리케이션의 보안 및 규정 준수를 개선할 수 있는 서비스
- EC2 인스턴스에 대한 오픈 액세스, 취약한 소프트웨어 버전 설치와 같은 모범 사례 위반 및 보안 취약성을 검사
- 평가 후 보안 탐지 결과 목록을 제공 (보안문제 설명 권장 해결방법 포함)
- 잠재적 보안 문제가 해결됨을 보장하지는 않음

AWS GardDuty
- 인프라 및 리소스에 대한 지능형 위협 탐지 기능을 제공하는 서비스
- 네트워크 활동 및 계정 동작을 지속적으로 모니터링하여 위협을 식별
- VPC Flow Logs 및 DNS 로그를 비롯한 여러 AWS 소스의 데이터를 지속적으로 분석
- 탐지결과 제공 및 문제 해결을 위한 권장 단계 제공
- 자동으로 문제 해결 단계를 수행하도록 Lambda 함수 구성 가능